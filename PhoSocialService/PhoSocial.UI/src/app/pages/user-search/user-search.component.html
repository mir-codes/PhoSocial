<div class="user-search-container">
  <div class="user-search-card">
    <div class="search-header">
      <h2 class="glow-text">Find Users</h2>
      <p class="subtitle">Search and connect with friends</p>
    </div>

    <div class="search-input-section">
      <div class="input-group search-group">
        <input 
          [(ngModel)]="term" 
          (keyup.enter)="doSearch()" 
          class="form-control search-input"
          placeholder="Search by name or email..."
        />
        <button 
          class="btn btn-primary search-btn" 
          (click)="doSearch()"
        >
          <i class="bi bi-search"></i> Search
        </button>
      </div>
    </div>

    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Searching users...</p>
    </div>

    <div *ngIf="error" class="alert alert-danger">
      <i class="bi bi-exclamation-circle"></i> {{ error }}
    </div>

    <div *ngIf="users && users.length > 0; else noResults" class="users-list">
      <div *ngFor="let u of users" class="user-card">
        <div class="user-card-content">
          <div class="user-avatar">{{ (u.userName || 'User').charAt(0).toUpperCase() }}</div>
          <div class="user-details">
            <h4>{{ u.userName }}</h4>
            <p class="user-email">{{ u.email }}</p>
          </div>
        </div>
        <a 
          [routerLink]="['/chat']" 
          [queryParams]="{ userId: u.id }" 
          class="btn btn-primary chat-btn"
        >
          <i class="bi bi-chat-dots"></i> Message
        </a>
      </div>
    </div>

    <ng-template #noResults>
      <div *ngIf="!loading && term" class="no-results">
        <i class="bi bi-search"></i>
        <h4>No users found</h4>
        <p>Try searching with a different name or email</p>
      </div>
      <div *ngIf="!loading && !term" class="no-results">
        <i class="bi bi-people"></i>
        <h4>Start searching</h4>
        <p>Enter a name or email to find users</p>
      </div>
    </ng-template>
  </div>
</div>
